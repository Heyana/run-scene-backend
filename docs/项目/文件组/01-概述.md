# 文件组功能 - 概述

## 功能定位

文件组是文件库的扩展功能，用于管理一组相关联的文件。

**与文件库的关系**：

- 文件库：管理单个文件
- 文件组：管理一组相关文件的集合

## 核心功能

1. **文件组管理**
   - 创建文件组（名称、描述、分类）
   - 添加/移除文件到组
   - 批量上传文件到组
   - 删除文件组

2. **组织结构**
   - 支持文件排序（手动调整顺序）
   - 支持文件分类标签
   - 支持主文件标记
   - **支持组套组（嵌套子组）**

3. **权限继承**
   - 文件组权限（部门、项目）
   - 组内文件继承组权限
   - 子组继承父组权限

4. **批量操作**
   - 批量下载（打包为 ZIP，保持目录结构）
   - 批量移动
   - 批量删除

## 典型场景

| 场景     | 文件组成               | 示例                                 |
| -------- | ---------------------- | ------------------------------------ |
| 项目交付 | 设计稿 + 源文件 + 文档 | UI设计.psd + 切图.zip + 说明.pdf     |
| 会议记录 | 录屏 + PPT + 纪要      | 会议录屏.mp4 + 演示.pptx + 纪要.docx |
| 培训资料 | 视频 + 课件 + 练习     | 教程.mp4 + 课件.pdf + 练习.zip       |
| 产品文档 | 需求 + 原型 + 测试     | PRD.docx + 原型.rp + 测试报告.xlsx   |

### 套组场景示例

**项目交付（大组）**

```
项目交付/
├── 设计稿/（子组）
│   ├── UI设计.psd
│   └── 切图.zip
├── 开发文档/（子组）
│   ├── 需求文档.docx
│   └── API文档.pdf
└── 测试报告/（子组）
    ├── 测试用例.xlsx
    └── Bug报告.pdf
```

## 技术架构

```
文件组层（支持嵌套）
├── DocumentGroup (文件组表 - 支持 parent_id)
├── DocumentGroupItem (组-文件关联表)
└── DocumentGroupController (控制器)

文件层
└── Document (文件表) - 已存在
```

## 设计原则

1. **轻量级关联** - 文件组不复制文件，只建立关联
2. **灵活组合** - 一个文件可以属于多个组
3. **独立管理** - 删除组不删除文件，删除文件自动解除关联
4. **权限隔离** - 组权限独立于文件权限
5. **嵌套支持** - 支持无限层级嵌套，子组继承父组权限
