# 数据库版本配置
# 修改此版本号会触发相应的升级任务

# 当前数据库版本
# 修改此值会触发从当前版本到目标版本之间的所有升级任务
version: 3

# 版本历史记录
history:
  - version: 1
    date: "2026-01-20"
    description: "基础清理和修复"
    tasks:
      - "清理空 CDN 路径的文件记录"
      - "更新 CDN 路径为相对路径"
      - "删除重复的文件记录"
      - "更新材质同步状态"
      - "修复 CDN 路径重复问题"

  - version: 2
    date: "2026-01-26"
    description: "贴图类型重新分析和映射"
    tasks:
      - "强制重新分析所有文件的贴图类型"
      - "强制重新更新所有材质的贴图类型列表"
      - "支持 PolyHaven 和 AmbientCG 两个数据源"
      - "更新 Three.js 类型映射规则"
    affected:
      files: 5716
      textures: 2692

  - version: 3
    date: "2026-01-26"
    description: "改进 AmbientCG 贴图类型提取"
    tasks:
      - "修复 AmbientCG 文件名解析逻辑"
      - "正确提取 Color、NormalGL、Roughness 等类型"
      - "重新分析所有 AmbientCG 贴图"
    affected:
      files: 5716
      textures: 2692

# 说明
# 1. 修改 version 值会触发升级
# 2. 系统会记住上次执行的版本号（存储在 data/.db_version 文件中）
# 3. 只会执行从上次版本到当前版本之间的所有升级任务
# 4. 如果需要重新执行某个版本的升级，删除 data/.db_version 文件或修改其内容
