# AIè“å›¾ç”ŸæˆåŠŸèƒ½ - å®ç°çŠ¶æ€

## âœ… å·²å®Œæˆ

### åç«¯éƒ¨åˆ†

#### 1. é…ç½®æ¨¡å—

- âœ… `config/ai_config.go` - AIé…ç½®åŠ è½½å™¨
- âœ… `config.yaml` - æ·»åŠ AIé…ç½®æ®µï¼ˆæ”¯æŒDeepSeekå’ŒOpenAIï¼‰
- âœ… `config/config.go` - é›†æˆAIé…ç½®åŠ è½½

#### 2. æ•°æ®æ¨¡å‹

- âœ… `models/blueprint.go` - è“å›¾ç›¸å…³æ•°æ®ç»“æ„
  - GenerateRequest - ç”Ÿæˆè¯·æ±‚
  - NodeMetadata - èŠ‚ç‚¹å…ƒæ•°æ®
  - GraphJSON - è“å›¾JSONç»“æ„
  - GenerateResponse - ç”Ÿæˆå“åº”
  - BlueprintHistory - ç”Ÿæˆå†å²è®°å½•

#### 3. æœåŠ¡å±‚

- âœ… `services/ai/ai_client.go` - AIå®¢æˆ·ç«¯ï¼ˆç»Ÿä¸€æ”¯æŒDeepSeek/OpenAIï¼‰
- âœ… `services/ai/prompt_builder.go` - Promptæ„å»ºå™¨
- âœ… `services/blueprint/blueprint_service.go` - è“å›¾ç”ŸæˆæœåŠ¡

#### 4. æ§åˆ¶å™¨

- âœ… `controllers/blueprint_controller.go` - è“å›¾æ§åˆ¶å™¨
  - POST /api/blueprint/generate - ç”Ÿæˆè“å›¾
  - GET /api/blueprint/history - è·å–å†å²è®°å½•

#### 5. è·¯ç”±

- âœ… `api/routes.go` - æ³¨å†Œè“å›¾APIè·¯ç”±

#### 6. æ•°æ®åº“

- âœ… `database/database.go` - æ·»åŠ BlueprintHistoryè¡¨è¿ç§»

### å‰ç«¯éƒ¨åˆ†

#### 1. æ ¸å¿ƒåŠŸèƒ½

- âœ… `graph/AIBlueprint.ts` - AIè“å›¾æ ¸å¿ƒåŠŸèƒ½
  - exportNodeMetadata - å¯¼å‡ºèŠ‚ç‚¹å…ƒæ•°æ®
  - generateBlueprint - è°ƒç”¨åç«¯API
  - applyGraphJSON - åº”ç”¨ç”Ÿæˆç»“æœ

#### 2. UIç»„ä»¶

- âœ… `graph/AIBlueprintDialog.tsx` - AIç”Ÿæˆå¼¹çª—ç»„ä»¶
- âœ… `style/ai-blueprint-dialog.less` - å¼¹çª—æ ·å¼

#### 3. é›†æˆ

- âœ… `Graph.tsx` - æ·»åŠ "AIç”Ÿæˆ"æŒ‰é’®å’Œå¼¹çª—

## ğŸ“‹ ä½¿ç”¨æ­¥éª¤

### 1. é…ç½®API Key

åœ¨ `run-scene-backend/config.yaml` ä¸­å¡«å†™DeepSeek API Keyï¼š

```yaml
ai:
  provider: deepseek
  deepseek:
    api_key: "sk-xxxxx" # å¡«å†™ä½ çš„API Key
```

æˆ–é€šè¿‡ç¯å¢ƒå˜é‡ï¼š

```bash
export DEEPSEEK_API_KEY=sk-xxxxx
```

### 2. å¯åŠ¨åç«¯

```bash
cd run-scene-backend
air  # æˆ– go run main.go
```

### 3. å¯åŠ¨å‰ç«¯

```bash
cd 3d-ç¼–è¾‘å™¨-æ— ååŒ-æœ€æ–°
yarn dev
```

### 4. ä½¿ç”¨AIç”Ÿæˆ

1. æ‰“å¼€è“å›¾ç¼–è¾‘å™¨
2. ç‚¹å‡»é¡¶éƒ¨èœå•çš„"AIç”Ÿæˆ"æŒ‰é’®
3. åœ¨å¼¹çª—ä¸­è¾“å…¥éœ€æ±‚æè¿°ï¼Œä¾‹å¦‚ï¼š
   - "åˆ›å»ºä¸€ä¸ªç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºæ–‡æœ¬çš„è“å›¾"
   - "å®ç°ä¸€ä¸ªé¼ æ ‡æ‚¬åœæ”¹å˜é¢œè‰²çš„äº¤äº’"
   - "åˆ¶ä½œä¸€ä¸ªå¾ªç¯æ’­æ”¾åŠ¨ç”»çš„è“å›¾"
4. ç‚¹å‡»"ç”Ÿæˆè“å›¾"
5. ç­‰å¾…AIç”Ÿæˆå®Œæˆï¼Œç»“æœä¼šè‡ªåŠ¨åº”ç”¨åˆ°ç”»å¸ƒ

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯

- **è¯­è¨€**: Go
- **AIæä¾›å•†**: DeepSeek (é»˜è®¤) / OpenAI
- **HTTPå®¢æˆ·ç«¯**: Goæ ‡å‡†åº“ net/http
- **æ•°æ®åº“**: SQLite + GORM
- **Webæ¡†æ¶**: Gin

### å‰ç«¯

- **æ¡†æ¶**: Vue 3 + TSX
- **UIåº“**: Element Plus
- **HTTPå®¢æˆ·ç«¯**: Fetch API

## ğŸ“ APIæ–‡æ¡£

è¯¦è§ `äº¤äº’æµç¨‹.md`

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

- âœ… è‡ªåŠ¨å¯¼å‡ºæ‰€æœ‰èŠ‚ç‚¹å…ƒæ•°æ®
- âœ… æ™ºèƒ½Promptæ„å»º
- âœ… æ”¯æŒDeepSeekå’ŒOpenAI
- âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶
- âœ… ç”Ÿæˆå†å²è®°å½•
- âœ… å‹å¥½çš„UIäº¤äº’
- âœ… å®æ—¶åé¦ˆå’Œé”™è¯¯æç¤º
