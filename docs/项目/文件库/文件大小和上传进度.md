# æ–‡ä»¶å¤§å°é™åˆ¶å’Œä¸Šä¼ è¿›åº¦

## åŠŸèƒ½æ¦‚è¿°

ç®€åŒ–æ–‡ä»¶å¤§å°é™åˆ¶é…ç½®ï¼Œç»Ÿä¸€ä¸º 10GB ä¸Šé™ï¼Œå¹¶ä¸ºæ‰€æœ‰ä¸Šä¼ æ–¹å¼æ·»åŠ è¿›åº¦æ˜¾ç¤ºã€‚

## å®ç°æ—¶é—´

2026å¹´2æœˆ9æ—¥

## é…ç½®ç®€åŒ–

### ä¿®æ”¹å‰ï¼ˆå¤æ‚ï¼‰

```yaml
max_file_size:
  document: 104857600 # 100MB
  video: 2147483648 # 2GB
  archive: 524288000 # 500MB
  other: 52428800 # 50MB
```

### ä¿®æ”¹åï¼ˆç®€å•ï¼‰

```yaml
max_file_size: 10737418240 # 10GB - ç»Ÿä¸€ä¸Šé™
```

### ä¼˜åŠ¿

- âœ… é…ç½®ç®€å•ï¼Œåªéœ€ä¸€ä¸ªæ•°å­—
- âœ… ä¸éœ€è¦åŒºåˆ†æ–‡ä»¶ç±»å‹
- âœ… 10GB è¶³å¤Ÿå¤§ï¼Œæ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ 
- âœ… æ˜“äºç†è§£å’Œä¿®æ”¹

## ä¸Šä¼ è¿›åº¦åŠŸèƒ½

### 1. å¯¹è¯æ¡†ä¸Šä¼ è¿›åº¦

**ä½ç½®**: ä¸Šä¼ æ–‡ä»¶å¯¹è¯æ¡†

**åŠŸèƒ½**:

- æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡
- æ˜¾ç¤ºç™¾åˆ†æ¯”
- ä¸Šä¼ æ—¶ç¦ç”¨è¡¨å•
- ä¸Šä¼ æ—¶ç¦æ­¢å…³é—­å¯¹è¯æ¡†

**å®ç°**:

```typescript
const uploadProgress = ref(0);
const isUploading = ref(false);

await uploadDocument(formData, {
  onUploadProgress: (progressEvent: any) => {
    if (progressEvent.total) {
      uploadProgress.value = Math.round(
        (progressEvent.loaded * 100) / progressEvent.total,
      );
    }
  },
});
```

**UI æ•ˆæœ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸Šä¼ æ–‡ä»¶                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é€‰æ‹©æ–‡ä»¶: file.mp4              â”‚
â”‚ æ–‡ä»¶åç§°: æ¼”ç¤ºè§†é¢‘              â”‚
â”‚ åˆ†ç±»: è§†é¢‘                      â”‚
â”‚ æè¿°: ...                       â”‚
â”‚                                 â”‚
â”‚ ä¸Šä¼ è¿›åº¦:                       â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  65%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ‹–æ‹½åŒºåŸŸä¸Šä¼ è¿›åº¦

**ä½ç½®**: æ‹–æ‹½ä¸Šä¼ åŒºåŸŸ

**åŠŸèƒ½**:

- æ˜¾ç¤ºä¸Šä¼ çŠ¶æ€æ–‡å­—
- æ˜¾ç¤ºè¿›åº¦æ¡
- æ˜¾ç¤ºç™¾åˆ†æ¯”
- ä¸Šä¼ æ—¶ç¦ç”¨æ‹–æ‹½

**å®ç°**:

```typescript
const dragUploadProgress = ref(0);
const isDragUploading = ref(false);
const dragUploadStatus = ref("");

// å•ä¸ªæ–‡ä»¶
await uploadDocument(formData, {
  onUploadProgress: (progressEvent: any) => {
    dragUploadProgress.value = Math.round(
      (progressEvent.loaded * 100) / progressEvent.total,
    );
  },
});

// å¤šä¸ªæ–‡ä»¶
let completed = 0;
for (const file of files) {
  await uploadDocument(formData, {
    onUploadProgress: (progressEvent: any) => {
      const fileProgress = Math.round(
        (progressEvent.loaded * 100) / progressEvent.total,
      );
      dragUploadProgress.value = Math.round(
        ((completed + fileProgress / 100) * 100) / files.length,
      );
    },
  });
  completed++;
}
```

**UI æ•ˆæœ**:

æ­£å¸¸çŠ¶æ€:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ“¤                       â”‚
â”‚  æ‹–æ‹½æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åˆ°æ­¤å¤„ä¸Šä¼       â”‚
â”‚  æ”¯æŒå•ä¸ªæ–‡ä»¶ã€å¤šä¸ªæ–‡ä»¶æˆ–æ•´ä¸ª    â”‚
â”‚  æ–‡ä»¶å¤¹ï¼ˆæœ€å¤§ 10GBï¼‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ä¸Šä¼ ä¸­:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­£åœ¨ä¸Šä¼  5 ä¸ªæ–‡ä»¶...            â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æ–‡ä»¶å¤¹ä¸Šä¼ è¿›åº¦

**ç‰¹æ®Šå¤„ç†**:

- å…ˆæ˜¾ç¤º"æ­£åœ¨è¯»å–æ–‡ä»¶å¤¹..."
- è¯»å–å®Œæˆåæ˜¾ç¤º"æ­£åœ¨ä¸Šä¼  N ä¸ªæ–‡ä»¶..."
- æ˜¾ç¤ºæ•´ä½“ä¸Šä¼ è¿›åº¦

**æµç¨‹**:

```
1. æ­£åœ¨è¯»å–æ–‡ä»¶å¤¹...
   â†“
2. æ­£åœ¨ä¸Šä¼  50 ä¸ªæ–‡ä»¶...
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  60%
   â†“
3. ä¸Šä¼ æˆåŠŸ âœ“
```

## æŠ€æœ¯å®ç°

### 1. Axios è¿›åº¦å›è°ƒ

ä½¿ç”¨ Axios çš„ `onUploadProgress` é…ç½®ï¼š

```typescript
axios.post(url, formData, {
  onUploadProgress: (progressEvent) => {
    const progress = Math.round(
      (progressEvent.loaded * 100) / progressEvent.total,
    );
    console.log(`ä¸Šä¼ è¿›åº¦: ${progress}%`);
  },
});
```

### 2. å¤šæ–‡ä»¶è¿›åº¦è®¡ç®—

è®¡ç®—å¤šä¸ªæ–‡ä»¶çš„æ€»ä½“è¿›åº¦ï¼š

```typescript
let completed = 0;
const totalFiles = files.length;

for (const file of files) {
  await uploadFile(file, {
    onUploadProgress: (e) => {
      // å½“å‰æ–‡ä»¶è¿›åº¦
      const fileProgress = (e.loaded / e.total) * 100;

      // æ€»ä½“è¿›åº¦ = (å·²å®Œæˆæ–‡ä»¶æ•° + å½“å‰æ–‡ä»¶è¿›åº¦) / æ€»æ–‡ä»¶æ•°
      const totalProgress =
        ((completed + fileProgress / 100) * 100) / totalFiles;

      updateProgress(totalProgress);
    },
  });

  completed++;
}
```

### 3. è¿›åº¦æ¡æ ·å¼

ä½¿ç”¨æ¸å˜è‰²å’Œå¹³æ»‘è¿‡æ¸¡ï¼š

```css
.progress-bar {
  width: 100%;
  height: 24px;
  background: #f0f0f0;
  border-radius: 12px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #1890ff, #40a9ff);
  transition: width 0.3s ease;
}
```

### 4. ä¸Šä¼ çŠ¶æ€ç®¡ç†

```typescript
// çŠ¶æ€
const isUploading = ref(false);
const uploadProgress = ref(0);
const uploadStatus = ref("");

// å¼€å§‹ä¸Šä¼ 
isUploading.value = true;
uploadProgress.value = 0;
uploadStatus.value = "æ­£åœ¨ä¸Šä¼ ...";

// æ›´æ–°è¿›åº¦
uploadProgress.value = 50;

// å®Œæˆä¸Šä¼ 
isUploading.value = false;
uploadProgress.value = 0;
uploadStatus.value = "";
```

## ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 1. è§†è§‰åé¦ˆ

- âœ… è¿›åº¦æ¡ä½¿ç”¨æ¸å˜è‰²ï¼Œæ›´ç¾è§‚
- âœ… å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- âœ… ç™¾åˆ†æ¯”å®æ—¶æ›´æ–°
- âœ… çŠ¶æ€æ–‡å­—æ¸…æ™°

### 2. äº¤äº’ä¼˜åŒ–

- âœ… ä¸Šä¼ æ—¶ç¦ç”¨è¡¨å•ï¼Œé˜²æ­¢è¯¯æ“ä½œ
- âœ… ä¸Šä¼ æ—¶ç¦æ­¢å…³é—­å¯¹è¯æ¡†
- âœ… æ‹–æ‹½åŒºåŸŸä¸Šä¼ æ—¶ç¦ç”¨æ‹–æ‹½
- âœ… ä¸Šä¼ å®Œæˆåè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨

### 3. é”™è¯¯å¤„ç†

- âœ… ä¸Šä¼ å¤±è´¥æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
- âœ… å¤±è´¥åæ¢å¤æ­£å¸¸çŠ¶æ€
- âœ… æ”¯æŒé‡è¯•

### 4. å¤§æ–‡ä»¶æ”¯æŒ

- âœ… 10GB ä¸Šé™ï¼Œæ”¯æŒå¤§æ–‡ä»¶
- âœ… è¿›åº¦æ˜¾ç¤ºï¼Œé¿å…ç”¨æˆ·ç„¦è™‘
- âœ… å¯ä»¥çœ‹åˆ°å®æ—¶è¿›åº¦

## é…ç½®è¯´æ˜

### YAML é…ç½®

```yaml
document:
  # æ–‡ä»¶å¤§å°é™åˆ¶
  max_file_size: 10737418240 # 10GBï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰
```

### ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®ä¸º 5GB
export DOCUMENT_MAX_FILE_SIZE=5368709120

# è®¾ç½®ä¸º 20GB
export DOCUMENT_MAX_FILE_SIZE=21474836480
```

### ä»£ç é…ç½®

```go
type DocumentConfig struct {
    MaxFileSize int64  // ç»Ÿä¸€æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆå­—èŠ‚ï¼‰
}

// é»˜è®¤é…ç½®
config := &DocumentConfig{
    MaxFileSize: 10737418240, // 10GB
}
```

## å¤§å°æ¢ç®—

å¸¸ç”¨å¤§å°æ¢ç®—ï¼š

| å¤§å°  | å­—èŠ‚æ•°             | é…ç½®å€¼      |
| ----- | ------------------ | ----------- |
| 100MB | 100 Ã— 1024 Ã— 1024  | 104857600   |
| 500MB | 500 Ã— 1024 Ã— 1024  | 524288000   |
| 1GB   | 1024 Ã— 1024 Ã— 1024 | 1073741824  |
| 2GB   | 2 Ã— 1024Â³          | 2147483648  |
| 5GB   | 5 Ã— 1024Â³          | 5368709120  |
| 10GB  | 10 Ã— 1024Â³         | 10737418240 |
| 20GB  | 20 Ã— 1024Â³         | 21474836480 |

## æ€§èƒ½è€ƒè™‘

### 1. å†…å­˜å ç”¨

- æ–‡ä»¶ä¸Šä¼ æ—¶ä¼šå ç”¨å†…å­˜
- 10GB æ–‡ä»¶å¯èƒ½å ç”¨è¾ƒå¤šå†…å­˜
- å»ºè®®æœåŠ¡å™¨å†…å­˜è‡³å°‘ 16GB

### 2. ä¸Šä¼ æ—¶é—´

- 10GB æ–‡ä»¶ä¸Šä¼ æ—¶é—´å–å†³äºç½‘ç»œé€Ÿåº¦
- 100Mbps ç½‘ç»œçº¦éœ€ 13 åˆ†é’Ÿ
- 1Gbps ç½‘ç»œçº¦éœ€ 1.3 åˆ†é’Ÿ

### 3. è¶…æ—¶è®¾ç½®

å¯èƒ½éœ€è¦è°ƒæ•´æœåŠ¡å™¨è¶…æ—¶è®¾ç½®ï¼š

```go
// Gin æœåŠ¡å™¨
router := gin.Default()
router.MaxMultipartMemory = 10 << 30  // 10GB

// HTTP è¶…æ—¶
server := &http.Server{
    ReadTimeout:  30 * time.Minute,
    WriteTimeout: 30 * time.Minute,
}
```

### 4. Nginx é…ç½®

å¦‚æœä½¿ç”¨ Nginx åå‘ä»£ç†ï¼š

```nginx
client_max_body_size 10G;
client_body_timeout 30m;
proxy_read_timeout 30m;
proxy_send_timeout 30m;
```

## æµ‹è¯•å»ºè®®

### 1. å°æ–‡ä»¶æµ‹è¯•

- [x] ä¸Šä¼  1MB æ–‡ä»¶
- [x] è¿›åº¦æ¡æ˜¾ç¤ºæ­£å¸¸
- [x] ä¸Šä¼ æˆåŠŸ

### 2. ä¸­ç­‰æ–‡ä»¶æµ‹è¯•

- [x] ä¸Šä¼  100MB æ–‡ä»¶
- [x] è¿›åº¦æ¡å¹³æ»‘æ›´æ–°
- [x] ç™¾åˆ†æ¯”å‡†ç¡®

### 3. å¤§æ–‡ä»¶æµ‹è¯•

- [ ] ä¸Šä¼  1GB æ–‡ä»¶
- [ ] ä¸Šä¼  5GB æ–‡ä»¶
- [ ] ä¸Šä¼  10GB æ–‡ä»¶
- [ ] è¿›åº¦æ˜¾ç¤ºå‡†ç¡®
- [ ] ä¸ä¼šè¶…æ—¶

### 4. å¤šæ–‡ä»¶æµ‹è¯•

- [x] æ‹–æ‹½ 10 ä¸ªæ–‡ä»¶
- [x] æ€»ä½“è¿›åº¦è®¡ç®—æ­£ç¡®
- [x] é€ä¸ªä¸Šä¼ æ˜¾ç¤ºè¿›åº¦

### 5. æ–‡ä»¶å¤¹æµ‹è¯•

- [x] æ‹–æ‹½åŒ…å« 50 ä¸ªæ–‡ä»¶çš„æ–‡ä»¶å¤¹
- [x] è¯»å–è¿›åº¦æ˜¾ç¤º
- [x] ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
- [x] ä¿æŒæ–‡ä»¶å¤¹ç»“æ„

### 6. é”™è¯¯æµ‹è¯•

- [ ] ç½‘ç»œä¸­æ–­
- [ ] æ–‡ä»¶è¿‡å¤§ï¼ˆè¶…è¿‡ 10GBï¼‰
- [ ] ç£ç›˜ç©ºé—´ä¸è¶³
- [ ] é”™è¯¯æ¶ˆæ¯æ˜¾ç¤ºæ­£ç¡®

### 7. è¾¹ç•Œæµ‹è¯•

- [ ] ä¸Šä¼  0 å­—èŠ‚æ–‡ä»¶
- [ ] ä¸Šä¼ æ°å¥½ 10GB æ–‡ä»¶
- [ ] ä¸Šä¼ è¶…è¿‡ 10GB æ–‡ä»¶
- [ ] åŒæ—¶ä¸Šä¼ å¤šä¸ªå¤§æ–‡ä»¶

## æ³¨æ„äº‹é¡¹

### 1. æµè§ˆå™¨é™åˆ¶

- æŸäº›æµè§ˆå™¨å¯èƒ½é™åˆ¶å•ä¸ªæ–‡ä»¶å¤§å°
- å»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Edgeã€Firefoxï¼‰

### 2. ç½‘ç»œç¨³å®šæ€§

- å¤§æ–‡ä»¶ä¸Šä¼ éœ€è¦ç¨³å®šçš„ç½‘ç»œ
- å»ºè®®æ·»åŠ æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼ˆæœªæ¥ä¼˜åŒ–ï¼‰

### 3. æœåŠ¡å™¨èµ„æº

- ç¡®ä¿æœåŠ¡å™¨æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- ç¡®ä¿æœåŠ¡å™¨æœ‰è¶³å¤Ÿçš„å†…å­˜
- ç›‘æ§æœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µ

### 4. ç”¨æˆ·ä½“éªŒ

- å¤§æ–‡ä»¶ä¸Šä¼ æ—¶é—´è¾ƒé•¿ï¼Œè¿›åº¦æ˜¾ç¤ºå¾ˆé‡è¦
- å»ºè®®æ·»åŠ å–æ¶ˆä¸Šä¼ åŠŸèƒ½ï¼ˆæœªæ¥ä¼˜åŒ–ï¼‰
- å»ºè®®æ·»åŠ æš‚åœ/æ¢å¤åŠŸèƒ½ï¼ˆæœªæ¥ä¼˜åŒ–ï¼‰

## æœªæ¥ä¼˜åŒ–

### 1. æ–­ç‚¹ç»­ä¼ 

æ”¯æŒå¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼ ï¼š

- æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ 
- è®°å½•å·²ä¸Šä¼ çš„åˆ†ç‰‡
- å¤±è´¥åå¯ä»¥ç»§ç»­ä¸Šä¼ 

### 2. å¹¶å‘ä¸Šä¼ 

å¤šä¸ªæ–‡ä»¶å¹¶å‘ä¸Šä¼ ï¼š

- æé«˜ä¸Šä¼ é€Ÿåº¦
- é™åˆ¶å¹¶å‘æ•°é‡ï¼ˆå¦‚ 3 ä¸ªï¼‰
- æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„è¿›åº¦

### 3. å–æ¶ˆä¸Šä¼ 

æ”¯æŒå–æ¶ˆæ­£åœ¨è¿›è¡Œçš„ä¸Šä¼ ï¼š

- æ·»åŠ å–æ¶ˆæŒ‰é’®
- æ¸…ç†å·²ä¸Šä¼ çš„æ•°æ®
- æ¢å¤æ­£å¸¸çŠ¶æ€

### 4. é€Ÿåº¦æ˜¾ç¤º

æ˜¾ç¤ºä¸Šä¼ é€Ÿåº¦ï¼š

- è®¡ç®—å®æ—¶é€Ÿåº¦ï¼ˆMB/sï¼‰
- ä¼°ç®—å‰©ä½™æ—¶é—´
- æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

## æ€»ç»“

æ–‡ä»¶å¤§å°é™åˆ¶å’Œä¸Šä¼ è¿›åº¦åŠŸèƒ½å·²å®Œæˆï¼š

âœ… **é…ç½®ç®€åŒ–**: ç»Ÿä¸€ 10GB ä¸Šé™ï¼Œé…ç½®ç®€å•  
âœ… **å¯¹è¯æ¡†è¿›åº¦**: ä¸Šä¼ æ–‡ä»¶æ—¶æ˜¾ç¤ºè¿›åº¦æ¡  
âœ… **æ‹–æ‹½è¿›åº¦**: æ‹–æ‹½ä¸Šä¼ æ—¶æ˜¾ç¤ºè¿›åº¦  
âœ… **å¤šæ–‡ä»¶è¿›åº¦**: æ­£ç¡®è®¡ç®—å¤šæ–‡ä»¶æ€»ä½“è¿›åº¦  
âœ… **æ–‡ä»¶å¤¹è¿›åº¦**: æ”¯æŒæ–‡ä»¶å¤¹ä¸Šä¼ è¿›åº¦æ˜¾ç¤º  
âœ… **è§†è§‰åé¦ˆ**: æ¸å˜è‰²è¿›åº¦æ¡ï¼Œå¹³æ»‘åŠ¨ç”»  
âœ… **äº¤äº’ä¼˜åŒ–**: ä¸Šä¼ æ—¶ç¦ç”¨æ“ä½œï¼Œé˜²æ­¢è¯¯æ“ä½œ

è¿™äº›æ”¹è¿›è®©æ–‡ä»¶åº“æ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ ï¼Œå¹¶æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼
