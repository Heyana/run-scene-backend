# 1. 上传到 NAS

scp 3d-editor-backend-linux.tar.gz admin@nas-ip:/volume1/docker/

# 2. SSH 连接

ssh admin@nas-ip

# 3. 解压

cd /volume1/docker/3d-editor-backend
tar -xzf 3d-editor-backend-linux.tar.gz

# 4. 安装

chmod +x install.sh
./install.sh

# 5. 配置

nano config.yaml

# 6. 启动

sudo systemctl start 3d-editor-backend

nas_enabled: true
nas_path: /vol1/1003/project/editor_v2/static/textures

打包

wsl bash -c "cd /mnt/e/hxy/my-project/run-scene-backend && /usr/local/go/bin/go build -o app-linux-fixed main.go"

# SSH 到 NAS

ssh LiLeng@192.168.3.10

# 进入目录

cd /vol1/1003/project/editor_v2/deploy

# 停止旧服务

pkill -f app-linux

# 备份旧文件

mv app-linux app-linux.old

# 使用新文件

mv app-linux-fixed app-linux

# 赋予执行权限

chmod +x app-linux

# 启动

nohup ./app-linux > logs/app.log 2>&1 &

# 查看日志

tail -f logs/app.log

# ========== Mihomo 代理配置 ==========

cd /vol1/1003/app

# 如果还没有 mihomo，下载并解压

# wget https://github.com/MetaCubeX/mihomo/releases/download/v1.19.19/mihomo-linux-amd64-v1.19.19.gz

# gunzip mihomo-linux-amd64-v1.19.19.gz

# mv mihomo-linux-amd64-v1.19.19 mihomo

# chmod +x mihomo

# 启动 mihomo（指定配置目录，避免权限问题）

cd /vol1/1003/app
nohup ./mihomo -d ./mihomo-config > mihomo.log 2>&1 &

# 查看日志

tail -f mihomo.log

# 测试代理

curl -x http://127.0.0.1:7890 https://www.google.com

# 停止 mihomo

pkill -f mihomo

# 代理地址:

# HTTP: http://127.0.0.1:7890

# SOCKS: socks5://127.0.0.1:7891

# API: http://127.0.0.1:9090

# 进入后端目录

cd /vol1/1003/project/editor_v2/deploy

# 编辑配置

nano config.yaml
